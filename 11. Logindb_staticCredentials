//login.jsp
<body>
<div class="container">
    <h2>Thank you for using our site</h2>
    <p>See you again !!!</p>

    <form action="login.jsp">
        <input type="submit" value="Login">
    </form>
</div>
</body>



//welcome.jsp
<body>

<%
    response.setHeader("Cache-Control", "no-cache, no-store, must-revalidate");
    response.setHeader("Pragma", "no-cache");
    response.setHeader("Expires", "0");

    if(session.getAttribute("username") == null) {
        response.sendRedirect("login.jsp");
    }
%>

<div class="welcome-box">
    <h2>WELCOME ${username} !!!</h2>

    <a href="videos.jsp">Videos here</a>

    <form action="Logout">
        <input type="submit" value="Logout">
    </form>
</div>

</body>



//videos.jsp
<body>
	<%
	 response.setHeader("Cache-Control", "no-cache, no-store, must-revalidate");
	%>
	<iframe width="560" height="315" src="https://www.youtube.com/embed/eIrMbAQSU34?si=d99XQb-fhNETSse3" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
</body>



//thanks.jsp
<body>

<div class="container">
    <h2>Thank you for using our site</h2>
    <p>See you again !!!</p>

    <form action="login.jsp">
        <input type="submit" value="Login">
    </form>
</div>

</body>



//Login.java
import com.login.dao.LoginDao;

@WebServlet("/Login")
public class Login extends HttpServlet {

    protected void doPost(HttpServletRequest request,
                          HttpServletResponse response)
            throws ServletException, IOException {

        String uname = request.getParameter("uname");
        String pass = request.getParameter("pass");

        LoginDao dao = new LoginDao();

        if (dao.check(uname, pass)) {

            HttpSession session = request.getSession();
            session.setAttribute("username", uname);

            response.sendRedirect("welcome.jsp");

        } else {
            response.sendRedirect("login.jsp");
        }
    }
}



//LoginDao.java
public class LoginDao {

    public boolean check(String uname, String pass) {

    	String sql = "SELECT * FROM loginTable WHERE uname=? AND pass=?";

        try {
            Class.forName("com.mysql.cj.jdbc.Driver");

            Connection con = DriverManager.getConnection(
                "jdbc:mysql://localhost:3306/logindb",
                "root",
                "root123"
            );

            PreparedStatement ps = con.prepareStatement(sql);
            ps.setString(1, uname);
            ps.setString(2, pass);

            ResultSet rs = ps.executeQuery();

            if(rs.next())
            {
            	return true;
            }

        } 
        catch (Exception e) 
        {
            e.printStackTrace();
        }
		return false;
    }
}



//DB 
CREATE DATABASE logindb;
USE logindb;

CREATE TABLE loginTable(uname varchar(20), pass varchar(20));

INSERT INTO loginTable values('Jenita', '1234');

SELECT * FROM loginTable WHERE uname = 'Jenita' and pass = '1234';
